
/*

-- =============================================
-- Author:		Evgeni Yordanov
-- Create date: 2013-03-11
-- Description:	Gauge chart JavaScript library. It uses SVG/VML/Canvas rendering to display the chart.
-- Version: 1.0
-- =============================================


	USE LICENSE
		Permission is granted to temporarily download one copy of the materials 
		(information or software) on Research Metrics, LLC's web site for personal, 
		non-commercial transitory viewing only. This is the grant of a license, 
		not a transfer of title, and under this license you may not:
			- modify or copy the materials;
			- use the materials for any commercial purpose, or for any public display (commercial or non-commercial);
			- attempt to decompile or reverse-engineer any software contained on Research Metrics, LLC's web site;
			- remove any copyright or other proprietary notations from the materials; or
			- transfer the materials to another person or "mirror" the materials on any other server.
		This license shall automatically be terminated if you violate any of these restrictions, and may be terminated by Research Metrics, LLC at any time. Upon terminating your viewing of these materials or upon the termination of this license, you must destroy any downloaded materials in your possession whether in electronic or printed format.
	
	DISCLAIMER
		The materials on Research Metrics, LLC's web site are provided "as is". Research Metrics, LLC makes no warranties, expressed or implied, and hereby disclaims and negates all other warranties, including without limitation, implied warranties or conditions of merchantability, fitness for a particular purpose, or non-infringement of intellectual property or other violation of rights. Further, Research Metrics, LLC does not warrant or make any representations concerning the accuracy, likely results, or reliability of the use of the materials on its Internet web site or otherwise relating to such materials or on any sites linked to this site.
	
	LIMITATIONS
	In no event shall Research Metrics, LLC or its suppliers be liable for any damages (including, without limitation, damages for loss of data or profit, or due to business interruption,) arising out of the use or inability to use the materials on Research Metrics, LLC's Internet site, even if Research Metrics, LLC or a Research Metrics, LLC authorized representative has been notified orally or in writing of the possibility of a such damage. Because some jurisdictions do not allow limitations on implied warranties, or limitations of liability for consequential or incidental damages, these limitations may not apply to you.
	
	GOVERNING LAW
	Any claim relating to Research Metrics, LLC's web site shall be governed by the laws of the State of Perrysburgs without regard to its conflict of law provisions.

*/


function GaugeChart(s,t,j){if("undefined"!==typeof s){"undefined"===typeof window.Gauge&&(window.Gauge={});if("undefined"===typeof j){for(var u=0;"undefined"!==typeof Gauge[u];)u++;j=u}window.Gauge[j]={params:null,chartId:j,getSize:function(a){var b=0,c=0,d=0,g=0,f=0,e=0;"VML"!==Gauge[j].Render.render&&("undefined"!==typeof a.scrollWidth&&(b=a.scrollWidth),"undefined"!==typeof a.scrollHeight&&(c=a.scrollHeight));"undefined"!==typeof a.offsetWidth&&(d=a.offsetWidth);"undefined"!==typeof a.offsetHeight&&
(g=a.offsetHeight);"undefined"!==typeof a.clientWidth&&(f=a.clientWidth);"undefined"!==typeof a.clientHeight&&(e=a.clientHeight);return{width:Math.max(f,d,b),height:Math.max(e,g,c)}},defaultParams:{defaultColor:{code:"#909090",codeWhite:"#FFFFFF"},defaultBackgroundColor:{top:"#FFFFFF",bottom:"#F3F3F3"},scaleLineWidth:1,scaleLineColor:"#333333"},deleteChilds:function(a){for(var b=a.childNodes,c=b.length;c--;)a.removeChild(b[c])},Initialize:function(a){var b=Gauge[j];if("undefined"===typeof a.chart||
"undefined"===typeof a.container)a={chart:t.chart,container:s};a.chart=b.dataProxy.changeDataFormat(a.chart);t=a;var c=b.defineParameters(a);a=b.params.chart.dials.dial;if(c){b.deleteChilds(b.params.container);b.Render.InitializeRender();b.NodeFactory[b.Render.render].createRoot();b.Base.InitBaseParams();b.Animation.Initialize();b.Base.InitBase();b.Base.appendDocumentRef();if(a.length)for(c=0;c<a.length;c++){var d=parseFloat(b.params.chart.dials.dial[c].value);b.params.chart.dials.dial[c].value=b.params.chart.lowerLimit;
"Canvas"!==b.Render.render&&b.setValue(d,b.NodeStore.arrow[c])}else d=parseFloat(b.params.chart.dials.dial.value),b.params.chart.dials.dial.value=b.params.chart.lowerLimit,"Canvas"!==b.Render.render&&b.setValue(d,b.NodeStore.arrow[0]);"Canvas"!==b.Render.render&&b.setValue(d);b.Base.drawLogo()}else throw Error("Incorrect parameters passed to Gauge initialization!");},dataProxy:{changeDataFormat:function(a){var b={height:a.height,width:a.width,lowerLimit:a.lowerLimit,upperLimit:a.upperLimit};if("undefined"!==
typeof a.gauges){for(var c in a)if("gauges"!==c&&"colorRange"!==c&&"width"!==c&&"height"!==c&&"styles"!==c)for(var d in a[c])b[d]=a[c][d];else if("gauges"===c)for(d in b.dials={},a[c])"gauge"===d&&(b.dials.dial=a[c][d]);else if("colorRange"===c||"styles"===c)b[c]=a[c];return b}if("object"===typeof a.dials)return a}},defineParameters:function(a){var b=Gauge[j];if("undefined"===typeof a.chart.width)a.chart.width=Gauge[j].getSize(a.container).width;else if("string"===typeof a.chart.width)a.chart.width=
a.chart.width.match("%")?0.01*Gauge[j].getSize(a.container).width*parseInt(a.chart.width,10):parseInt(a.chart.width,10);else if("number"!==typeof a.chart.width)throw Error("width parameter is incorrect in Gauge initialization!");if("undefined"===typeof a.chart.height)a.chart.height=Gauge[j].getSize(a.container).height;else if("string"===typeof a.chart.height)a.chart.height=a.chart.height.match("%")?0.01*Gauge[j].getSize(a.container).height*parseInt(a.chart.height,10):parseInt(a.chart.height,10);else if("number"!==
typeof a.chart.height)throw Error("height parameter is incorrect in Gauge initialization!");a.chart.lowerLimit="undefined"===typeof a.chart.lowerLimit?0:parseFloat(a.chart.lowerLimit,10);a.chart.upperLimit="undefined"===typeof a.chart.upperLimit?100:parseFloat(a.chart.upperLimit,10);if(a.chart.upperLimit<a.chart.lowerLimit)throw Error("minValue and maxValue parameters are incorrect in Gauge initialization!");if(a.chart.dials.dial.length)for(var c=0;c<a.chart.dials.dial.length;c++)b.checkDialValue(a.chart.dials.dial[c].value,
a),"1"==a.chart.dials.dial[c].showValue&&b.Base.labelsToShow++;else b.checkDialValue(a.chart.dials.dial.value,a),"1"==a.chart.dials.dial.showValue&&b.Base.labelsToShow++;"undefined"===typeof a.fontSize&&(a.fontSize=14);"undefined"===typeof a.fontFamily&&(a.fontFamily="Tahoma");"undefined"===typeof a.chart.numberPrefix&&(a.chart.numberPrefix="");"undefined"===typeof a.chart.numberSuffix&&(a.chart.numberSuffix="");a.chart.majorTMNumber="undefined"===typeof a.chart.majorTMNumber?10:parseFloat(a.chart.majorTMNumber,
10);"undefined"===typeof a.chart.decimals&&(a.chart.decimals=0);a.chart.minorTMNumber="undefined"===typeof a.chart.minorTMNumber?5*a.chart.majorTMNumber:parseFloat(a.chart.minorTMNumber,10);"undefined"===typeof a.chart.defaultAnimation&&(a.chart.defaultAnimation="1");"undefined"===typeof a.chart.bgAngle&&(a.chart.bgAngle=0);"undefined"===typeof a.chart.bgAlpha&&(a.chart.bgAlpha=100);"undefined"===typeof a.chart.labelUpponArrow&&(a.chart.labelUpponArrow=0);"undefined"===typeof a.chart.overlayType&&
(a.chart.overlayType="default");a.chart.overlayWidth=0.8;a.chart.innerRadius="undefined"===typeof a.chart.innerRadius?0.55:"edge"===a.chart.overlayType||"overlay"===a.chart.overlayType?0.55:parseFloat(a.chart.innerRadius);Gauge[j].params=a;return!0},checkDialValue:function(a,b){"undefined"===typeof a?parseFloat(b.chart.lowerLimit,10):(a=parseFloat(a,10),a>b.chart.upperLimit&&(b.chart.upperLimit=10*Math.ceil(a/10)),a<b.chart.lowerLimit&&(b.chart.lowerLimit=10*Math.floor(a/10)))},checkStylesExists:function(a){var b=
!1,c=!1,d=!1;"undefined"!==typeof a.chart&&("undefined"!==typeof a.chart.styles&&("undefined"!==typeof a.chart.styles.application&&"undefined"!==typeof a.chart.styles.application.apply&&(c=!0),"undefined"!==typeof a.chart.styles.definition&&"undefined"!==typeof a.chart.styles.definition.style&&(d=!0)),d&&c&&(b=!0));return b},addEvent:function(a,b,c){if(a.addEventListener)return a.addEventListener(b,c,!1),!0;if(a.attachEvent)return a.attachEvent("on"+b,c);a["on"+b]=c},Base:{baseParams:null,labelsToShow:0,
symbols:[{symbol:/&#34;/g,replacement:'"'},{symbol:/&quot;/g,replacement:'"'},{symbol:/&ldquo;/g,replacement:"\u201c"},{symbol:/&#8220;/g,replacement:"\u201c"},{symbol:/&rdquo;/g,replacement:"\u201d"},{symbol:/&#8221;/g,replacement:"\u201d"},{symbol:/&#39;/g,replacement:"'"},{symbol:/&#8216;/g,replacement:"\u2018"},{symbol:/&#8217;/g,replacement:"\u2019"}],drawLogo:function(){var a=Gauge[j];a.NodeFactory[a.Render.render].drawLogo.init()},encodeString:function(a){for(var b=Gauge[j].Base.symbols,c=
b.length;c--;)a=a.replace(b[c].symbol,b[c].replacement);return a},mainCircleParams:{radius:null,cx:null,cy:null},checkFloating:function(a){var b=Gauge[j].params.chart.decimals,c=parseFloat(a);a=parseInt(a);return c.toFixed(b)==a.toFixed(b)?a:c.toFixed(b)},InitBaseParams:function(){var a=0,b=0,c=0,d=0,d=Gauge[j].params.chart.width,b=Gauge[j].params.chart.height;2*b<d?(a=parseInt((d-2*b)/2,10),c=parseInt(2*b,10),d=b,b=0):(a=0,c=d,d=parseInt(d/2,10),b=parseInt((b-d)/2,10));Gauge[j].Base.mainCircleParams.radius=
c/2-0.1125*c-15;Gauge[j].Base.mainCircleParams.cx=c/2+a;Gauge[j].Base.mainCircleParams.cy=b+d-15;Gauge[j].Base.baseParams={baseX:a,baseY:b,baseW:c,baseH:d}},getBiggestBBox:function(a,b){var c=Gauge[j],d=a.length,g=document.createElement("div"),f=0,e=0;g.style.top="-100px";g.style.left="-100px";g.style.position="absolute";g.style.fontFamily=b.fontFamily;g.style.fontSize=b.fontSize+"px";for(c.params.container.appendChild(g);d--;){c.deleteChilds(g);g.appendChild(document.createTextNode(a[d]));var h=
c.getSize(g);f<h.width&&(f=h.width);e<h.height&&(e=h.height)}c.params.container.removeChild(g);return{w:f,h:e}},appendDocumentRef:function(){var a=Gauge[j];null!==a.NodeStore.documentFragmentRef&&a.params.container.appendChild(a.NodeStore.documentFragmentRef)},createValuesLabels:function(){var a=Gauge[j],b=a.NodeFactory[a.Render.render],a=a.params.chart.dials.dial;if(a.length)for(var c=0,d=0;d<a.length;d++)"1"==a[d].showValue&&(b.createValueLabel(a[d].value,c),c++);else"1"==a.showValue&&b.createValueLabel(a.value)},
InitBase:function(){var a=Gauge[j],b=a.NodeFactory[a.Render.render],c=a.params.chart.dials.dial;b.createBackground();b.createMainCircle();b.InitScale();0==a.params.chart.labelUpponArrow&&a.Base.createValuesLabels();if(c.length)for(var d=0;d<c.length;d++){var g=a.NodeStore.arrow.length;a.NodeStore.arrow[g]=b.InitArrow(c[d])}else g=a.NodeStore.arrow.length,a.NodeStore.arrow[g]=b.InitArrow(c);b.initArrowCircle();0!=a.params.chart.labelUpponArrow&&a.Base.createValuesLabels()}},Render:{svgNS:"http://www.w3.org/2000/svg",
render:null,androidDetected:!1,detectAndroid:function(){var a=navigator.userAgent.toLowerCase();Gauge[j].Render.androidDetected=-1<a.indexOf("android")},detectIOS_4:function(){var a=!1;window.navigator.userAgent.match("OS 4")&&window.navigator.userAgent.match("Mac OS")&&(a=!0);return a},supportsSVG:function(){return!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect},supportsVML:function(){var a=document.body.appendChild(document.createElement("div"));
a.innerHTML='<v:shape id="vml_flag1" adj="1" />';var b=a.firstChild;b.style.behavior="url(#default#VML)";b=b?"object"==typeof b.adj:!0;a.parentNode.removeChild(a);return b},supportsCanvas:function(){var a=document.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))},InitializeRender:function(){var a=Gauge[j];a.Render.detectAndroid();var b=a.Render.supportsSVG(),c=a.Render.supportsVML(),d=a.Render.supportsCanvas(),g=a.Render.detectIOS_4();if(b&&!g)a.Render.render="SVG";else if(c)a.Render.render=
"VML";else if(d)a.Render.render="Canvas";else throw Error("Not Found any supported renderer for Gauge chart!");}},NodeStore:{root:null,arrow:[],valueLabel:null,documentFragmentRef:null},NodeFactory:{getDefaultFontStyleDefinition:function(){return{font:"Tahoma",size:"14",color:"000000",bold:"0",italic:"0",underline:"0"}},defineUndefinedDefaultFontStyleDefinition:function(a){"undefined"===typeof a.font&&(a.font="Tahoma");"undefined"===typeof a.size&&(a.size="14");"undefined"===typeof a.color&&(a.color=
"000000");"undefined"===typeof a.bold&&(a.bold="0");"undefined"===typeof a.italic&&(a.italic="0");"undefined"===typeof a.underline&&(a.underline="0");return a},SVG:{createValueLabel:function(a,b){var c=Gauge[j],d=null;if(c.checkStylesExists(c.params)){for(var g=c.params.chart.styles.application.apply,f=c.params.chart.styles.definition.style,e=null,h=0,k=g.length;h<k;h++)if("Value"==g[h].toObject){e=g[h].styles;break}if(e){h=0;for(k=f.length;h<k;h++)if(f[h].name==e){d=f[h];break}}}d||(d=c.NodeFactory.getDefaultFontStyleDefinition());
d=c.NodeFactory.defineUndefinedDefaultFontStyleDefinition(d);g=document.createElementNS(c.Render.svgNS,"g");f=document.createElementNS(c.Render.svgNS,"text");c.NodeFactory.SVG.addStylesToElement(f,d);e=c.params.chart.numberPrefix+c.Base.checkFloating(a)+c.params.chart.numberSuffix;e=c.Base.encodeString(e);f.appendChild(document.createTextNode(e));g.appendChild(f);d=c.Base.getBiggestBBox([e],{fontFamily:d.font,fontSize:d.size});c.NodeStore.root.appendChild(g);if(1==c.Base.labelsToShow)var l=c.Base.mainCircleParams.cy-
0.13559322033898305*c.Base.mainCircleParams.radius;else b<c.Base.labelsToShow&&(l=c.Base.mainCircleParams.cy-10-b*d.h);f.setAttribute("x",c.Base.mainCircleParams.cx);f.setAttribute("y",l);f.setAttribute("x",c.Base.mainCircleParams.cx-d.w/2);c.NodeStore.valueLabel=f;c.NodeStore.valueLabel.updateValue=function(a){this.childNodes[0].textContent=c.params.chart.numberPrefix+c.Base.checkFloating(a)+c.params.chart.numberSuffix}},createRoot:function(){var a=Gauge[j],b=document.createElementNS(a.Render.svgNS,
"svg");a.NodeStore.documentFragmentRef=document.createDocumentFragment();a.NodeStore.documentFragmentRef.appendChild(b);b.setAttribute("width",a.params.chart.width);b.setAttribute("height",a.params.chart.height);b.setAttribute("version","1.1");a.NodeStore.root=b;a.NodeFactory.SVG.Gradients.initGradients()},drawLogo:{init:function(){var a=Gauge[j],b=a.NodeStore.root,c=a.params.chart.width-130,d=""+parseInt(1073741824*Math.random(),10);a.NodeFactory.SVG.drawLogo.createGradient(b,d,{cx:c+0,cy:50,radius:30});
a.NodeFactory.SVG.drawLogo.drawCirclePart({angleStart:70,angleEnd:340,color:"url(#"+d+")",cx:c+0,cy:50,radius:20,container:b});a.NodeFactory.SVG.drawLogo.drawCirclePart({angleStart:-20,angleEnd:70,color:"#F26734",cx:c+0+2,cy:51,radius:20,container:b});a.NodeFactory.SVG.drawLogo.createText(b,c+0+9,63)},logoHoverHandler:function(a){var b=Gauge[j];b.addEvent(a,"mouseover",function(a){a.target.style.cursor="pointer"});b.addEvent(a,"click",function(){window.location.assign("http://www.hdcharts.com/")});
b.addEvent(a,"mouseout",function(a){a.target.style.cursor="default"})},drawPoly:function(a){var b=Gauge[j],c=document.createElementNS(b.Render.svgNS,"path"),d,g=a.points,f=g.length-1;for(d="M"+(g[f].x+" "+g[f].y);f--;)d=d+"L"+g[f].x+" "+g[f].y;c.setAttribute("d",d+" z");c.setAttribute("fill",a.color);c.setAttribute("fill-opacity",a.opacity);a.container.appendChild(c);b.NodeFactory.SVG.drawLogo.logoHoverHandler(c)},drawCirclePart:function(a){var b=Gauge[j],c=[],d=a.cx,g=a.cy,f=a.radius;c.push({x:d,
y:g});for(var e=a.angleStart;e<=a.angleEnd;e++){var h=e*(Math.PI/180),k=0,l=0,k=d+f*Math.cos(h),l=g+f*Math.sin(h);c.push({x:k,y:l})}b.NodeFactory.SVG.drawLogo.drawPoly({points:c,color:a.color,container:a.container})},createGradient:function(a,b,c){var d=Gauge[j],g=document.createElementNS(d.Render.svgNS,"radialGradient");g.id=b;g.setAttribute("gradientUnits","userSpaceOnUse");g.setAttribute("cx",c.cx);g.setAttribute("cy",c.cy);g.setAttribute("r",c.radius);b=document.createElementNS(d.Render.svgNS,
"stop");b.setAttribute("offset","0%");b.setAttribute("stop-color","#5f5f5f");b.setAttribute("stop-opacity","100");g.appendChild(b);d=document.createElementNS(d.Render.svgNS,"stop");d.setAttribute("offset","100%");d.setAttribute("stop-color","#434343");d.setAttribute("stop-opacity","100");g.appendChild(d);a.appendChild(g)},createText:function(a,b,c){var d=Gauge[j],g=document.createElementNS(d.Render.svgNS,"text");g.appendChild(document.createTextNode("HD"));g.style.fontFamily="Tahoma";g.style.fontSize=
"17px";g.style.fontWeight="bold";g.setAttribute("fill","#434343");g.setAttribute("x",b);g.setAttribute("y",c);a.appendChild(g);d.NodeFactory.SVG.drawLogo.logoHoverHandler(g);g=document.createElementNS(d.Render.svgNS,"text");g.appendChild(document.createTextNode("CHARTS"));g.style.fontFamily="Tahoma";g.style.fontSize="17px";g.style.fontWeight="bold";g.setAttribute("fill","#F15A23");g.setAttribute("x",b+27);g.setAttribute("y",c);a.appendChild(g);d.NodeFactory.SVG.drawLogo.logoHoverHandler(g)}},createBackground:function(){var a=
Gauge[j],b=document.createElementNS(a.Render.svgNS,"rect"),c=parseInt(a.params.chart.bgAlpha,10)/100;b.setAttribute("x",0);b.setAttribute("y",0);b.setAttribute("width",a.params.chart.width);b.setAttribute("height",a.params.chart.height);b.setAttribute("fill-opacity",c);"undefined"===typeof a.params.chart.bgColor?(a.NodeFactory.SVG.Gradients.InitBackgroundGradient(a.defaultParams.defaultBackgroundColor.top,a.defaultParams.defaultBackgroundColor.bottom),b.setAttribute("fill","url(#"+a.NodeFactory.SVG.Gradients.backgroundGradient.id+
")")):(c=a.params.chart.bgColor.split(" ").join("").split(","),1==c.length?b.setAttribute("fill","#"+c[0]):(a.NodeFactory.SVG.Gradients.InitBackgroundGradient("#"+c[1],"#"+c[0]),b.setAttribute("fill","url(#"+a.NodeFactory.SVG.Gradients.backgroundGradient.id+")")));a.NodeStore.root.appendChild(b)},createMainCircle:function(){var a=Gauge[j];a.NodeFactory.SVG.shadows.initMainCircleShadow("Gauge-main-circle-shadow-"+j);if("undefined"===typeof a.params.chart.colorRange)a.NodeFactory[a.Render.render].addCirclepart({lowerLimit:a.params.chart.lowerLimit,
upperLimit:a.params.chart.upperLimit,shadowId:"Gauge-main-circle-shadow-"+j,color:a.defaultParams.defaultColor.code,borderColor:a.defaultParams.defaultColor.code});else{var b=a.params.chart.colorRange.color;if("undefined"!==typeof b.length)for(var c=0,d=b.length;c<d;c++)c+1==b.length&&b[c].maxValue<a.params.chart.upperLimit&&(b[c].maxValue=a.params.chart.upperLimit),0==c&&b[c].minValue>a.params.chart.lowerLimit&&(b[c].minValue=a.params.chart.lowerLimit),a.NodeFactory[a.Render.render].addCirclepart({lowerLimit:parseFloat(b[c].minValue,
10),upperLimit:parseFloat(b[c].maxValue,10),shadowId:"Gauge-main-circle-shadow-"+j,color:b[c].code,borderColor:b[c].code});else a.NodeFactory[a.Render.render].addCirclepart({lowerLimit:parseFloat(b.minValue,10),upperLimit:parseFloat(b.maxValue,10),shadowId:"Gauge-main-circle-shadow-"+j,color:b.code,borderColor:b.code})}"edge"!==a.params.chart.overlayType?(a.NodeFactory.SVG.Gradients.InitMainCircleGradient("Gauge-main-circle-gradient-"+j),a.NodeFactory[a.Render.render].addCirclepart({lowerLimit:parseInt(a.params.chart.lowerLimit,
10),upperLimit:parseInt(a.params.chart.upperLimit,10),gradientId:"Gauge-main-circle-gradient-"+j})):"edge"===a.params.chart.overlayType&&(a.NodeFactory.SVG.Gradients.InitMainCircleGradient("Gauge-main-circle-gradient-"+j),a.NodeFactory[a.Render.render].addCirclepart({lowerLimit:a.params.chart.lowerLimit,upperLimit:a.params.chart.upperLimit,gradientId:"Gauge-main-circle-gradient-"+j}),a.NodeFactory[a.Render.render].addCirclepart({lowerLimit:a.params.chart.lowerLimit,upperLimit:a.params.chart.upperLimit,
gradientId:"Gauge-outter-overlay-gradient-"+j,type:"outter"}))},addCirclepart:function(a){var b=Gauge[j],c=a.lowerLimit,d=a.upperLimit,g=a.shadowId,f=a.color;borderColor="undefined"===typeof a.borderColor?!1:a.borderColor;g="undefined"===typeof a.shadowId?!1:a.shadowId;gradientId="undefined"===typeof a.gradientId?!1:a.gradientId;if("undefined"===typeof a.type)var e=0;else"inner"===a.type?e=(b.Base.mainCircleParams.radius-b.Base.mainCircleParams.radius*b.params.chart.innerRadius)*(1-b.params.chart.overlayWidth):
"outter"===a.type&&(e=b.Base.mainCircleParams.radius-b.Base.mainCircleParams.radius*b.params.chart.innerRadius-(b.Base.mainCircleParams.radius-b.Base.mainCircleParams.radius*b.params.chart.innerRadius)*(1-b.params.chart.overlayWidth));for(var c=b.getDegreeFromValue(c),d=b.getDegreeFromValue(d),h="M",k=c;k<=d;k++){var l=k,l=b.degToRad(l+180),m=b.Base.mainCircleParams.cx,n=b.Base.mainCircleParams.cy,p=b.Base.mainCircleParams.radius,q=0,r=0,q=m+p*Math.cos(l),r=n+p*Math.sin(l);k!=c&&(h+=" L ");h+=q.toFixed(2)+
" "+r.toFixed(2)}for(k=d;k>=c;k--)l=k,l=b.degToRad(l+180),m=b.Base.mainCircleParams.cx,n=b.Base.mainCircleParams.cy,p=b.Base.mainCircleParams.radius*b.params.chart.innerRadius,"outter"===a.type?p+=e:"inner"===a.type&&(p=e),q=m+p*Math.cos(l),r=n+p*Math.sin(l),h+=" L "+q.toFixed(2)+" "+r.toFixed(2);h+="z";a=document.createElementNS(b.Render.svgNS,"path");gradientId?a.setAttribute("fill","url(#"+gradientId+")"):a.setAttribute("fill",f);a.setAttribute("d",h);borderColor?(a.setAttribute("stroke",f),a.setAttribute("stroke-width",
1)):a.setAttribute("stroke-width",0);g&&a.setAttribute("filter","url(#"+g+")");b.NodeStore.root.appendChild(a)},InitScale:function(){var a=Gauge[j],b=parseInt(0.01*a.Base.baseParams.baseW,10),c=(a.params.chart.upperLimit-a.params.chart.lowerLimit)/a.params.chart.majorTMNumber,d=(a.params.chart.upperLimit-a.params.chart.lowerLimit)/a.params.chart.minorTMNumber;if(a.checkStylesExists(a.params)){for(var g=a.params.chart.styles.application.apply,f=a.params.chart.styles.definition.style,e=0,h=g.length;e<
h;e++)"TICKVALUES"==g[e].toObject.toUpperCase()&&(tickValuesStyle={},tickValuesStyle.name=g[e].styles,tickValuesStyle.found=!1,tickValuesStyle.obj={});if(tickValuesStyle){e=0;for(h=f.length;e<h;e++)f[e].name==tickValuesStyle.name&&"FONT"==f[e].type.toUpperCase()&&(tickValuesStyle.found=!0,tickValuesStyle.obj=f[e])}}else tickValuesStyle={name:"",found:!1,obj:{}};for(e=a.params.chart.lowerLimit;e<=a.params.chart.upperLimit;e+=d)a.NodeFactory[a.Render.render].addScaleLine(e,b);for(e=a.params.chart.lowerLimit;e<=
a.params.chart.upperLimit;e+=c)a.NodeFactory[a.Render.render].addScaleLine(e,2*b),a.NodeFactory[a.Render.render].addLabel(e,tickValuesStyle)},addScaleLine:function(a,b){var c=Gauge[j],d=c.defaultParams.scaleLineWidth,g=document.createElementNS(c.Render.svgNS,"g"),f=document.createElementNS(c.Render.svgNS,"line");f.setAttribute("x1",c.Base.mainCircleParams.cx-c.Base.mainCircleParams.radius+b);f.setAttribute("y1",c.Base.mainCircleParams.cy);f.setAttribute("x2",c.Base.mainCircleParams.cx-c.Base.mainCircleParams.radius);
f.setAttribute("y2",c.Base.mainCircleParams.cy);f.setAttribute("stroke-width",d);f.setAttribute("stroke",c.defaultParams.scaleLineColor);g.appendChild(f);c.NodeStore.root.appendChild(g);g.setAttribute("transform","rotate("+c.getDegreeFromValue(a)+", "+c.Base.mainCircleParams.cx+", "+c.Base.mainCircleParams.cy+")")},addLabel:function(a,b){var c=Gauge[j],d=!1;"undefined"!==typeof b.obj&&(d=b.obj.found);!b&&d&&(b.obj=c.NodeFactory.getDefaultFontStyleDefinition());var g=0.06*c.Base.baseParams.baseW,d=
document.createElementNS(c.Render.svgNS,"text"),f=c.params.chart.numberPrefix+c.Base.checkFloating(a)+c.params.chart.numberSuffix,f=c.Base.encodeString(f);d.appendChild(document.createTextNode(f));var e=c.getDegreeFromValue(a),e=c.degToRad(e+180),h=c.Base.mainCircleParams.cy,k=c.Base.mainCircleParams.radius+g,g=c.Base.mainCircleParams.cx+k*Math.cos(e);d.setAttribute("x",g);d.setAttribute("y",h+k*Math.sin(e));b.obj=c.NodeFactory.defineUndefinedDefaultFontStyleDefinition(b.obj);c.NodeFactory.SVG.addStylesToElement(d,
b.obj);f=c.Base.getBiggestBBox([f],{fontFamily:b.obj.font,fontSize:b.obj.size});c.NodeStore.root.appendChild(d);d.setAttribute("x",g-f.w/2)},addStylesToElement:function(a,b){"undefined"!==typeof b.font&&(a.style.fontFamily=b.font);"undefined"!==typeof b.size&&a.setAttribute("font-size",b.size);"undefined"!==typeof b.color&&a.setAttribute("fill","#"+b.color);"undefined"!==typeof b.bold&&"1"==b.bold&&(a.style.fontWeight="bold");"undefined"!==typeof b.italic&&"1"==b.italic&&(a.style.fontStyle="italic");
"undefined"!==typeof b.underline&&"1"==b.underline&&(a.style.textDecoration="underline")},InitArrow:function(a){var b=Gauge[j];b.NodeFactory.SVG.Gradients.InitArrowGradient();b.NodeFactory.SVG.shadows.initArrowShadow("Gauge-arrow-shadow-"+j);var c=document.createElementNS(b.Render.svgNS,"g"),d=b.Base.mainCircleParams.cx,g=b.Base.mainCircleParams.cy,f=b.Base.mainCircleParams.radius,e=document.createElementNS(b.Render.svgNS,"path");e.setAttribute("stroke","#000000");e.setAttribute("stroke-width","1");
"undefined"===typeof a.borderAlpha?e.setAttribute("stroke-opacity","1"):e.setAttribute("stroke-opacity",a.borderAlpha/100);"undefined"===typeof a.bgColor?e.setAttribute("fill","url(#"+b.NodeFactory.SVG.Gradients.arrowGradient.id+")"):e.setAttribute("fill","#"+a.bgColor);e.setAttribute("d","M"+(d+4)+","+(g+10)+" "+d+","+(g-0.8*f)+" "+(d-4)+","+(g+10)+"z");e.setAttribute("transform","rotate(-90, "+d+","+g+")");e.setAttribute("filter","url(#Gauge-arrow-shadow-"+j+")");c.appendChild(e);b.NodeStore.root.appendChild(c);
c.setValue=function(a){c.setAttribute("transform","rotate("+b.getDegreeFromValue(a)+", "+b.Base.mainCircleParams.cx+","+b.Base.mainCircleParams.cy+")");b.NodeStore.valueLabel&&b.NodeStore.valueLabel.updateValue(a)};return c},initArrowCircle:function(){var a=Gauge[j],b=document.createElementNS(a.Render.svgNS,"circle");b.setAttribute("stroke-width",1);b.setAttribute("stroke","#000000");b.setAttribute("fill","#3A3A3A");b.setAttribute("cx",a.Base.mainCircleParams.cx);b.setAttribute("cy",a.Base.mainCircleParams.cy);
b.setAttribute("r",5);a.NodeStore.root.appendChild(b);b=document.createElementNS(a.Render.svgNS,"circle");b.setAttribute("stroke-width",1);b.setAttribute("stroke","#000000");b.setAttribute("fill","#3A3A3A");b.setAttribute("cx",a.Base.mainCircleParams.cx);b.setAttribute("cy",a.Base.mainCircleParams.cy);b.setAttribute("r",1);a.NodeStore.root.appendChild(b)},Gradients:{arrowGradient:null,backgroundGradient:null,defs:null,initGradients:function(){var a=Gauge[j],b=document.createElementNS(a.Render.svgNS,
"defs");a.NodeFactory.SVG.defs=b;a.NodeStore.root.appendChild(b)},InitArrowGradient:function(){var a=Gauge[j],b=document.createElementNS(a.Render.svgNS,"linearGradient");b.id="Gauge-main-arrow-gradient-"+j;b.setAttribute("x1","100%");b.setAttribute("y1","0%");b.setAttribute("x2","0%");b.setAttribute("y2","0%");var c=document.createElementNS(a.Render.svgNS,"stop");c.setAttribute("offset","0%");c.setAttribute("stop-color","#464646");b.appendChild(c);c=document.createElementNS(a.Render.svgNS,"stop");
c.setAttribute("offset","50%");c.setAttribute("stop-color","#FFFFFF");b.appendChild(c);c=document.createElementNS(a.Render.svgNS,"stop");c.setAttribute("offset","100%");c.setAttribute("stop-color","#464646");b.appendChild(c);a.NodeFactory.SVG.defs.appendChild(b);a.NodeFactory.SVG.Gradients.arrowGradient=b},InitMainCircleGradient:function(a){var b=Gauge[j],c=b.params.chart;"default"===c.overlayType?(c=document.createElementNS(b.Render.svgNS,"linearGradient"),c.setAttribute("x1","0%"),c.setAttribute("y1",
"0%"),c.setAttribute("x2","0%"),c.setAttribute("y2","100%"),c.id=a,b.NodeFactory.SVG.innerOverlayGradient="gauge-chart-"+j+"-inner-overlay-gradient",a=document.createElementNS(b.Render.svgNS,"stop"),a.setAttribute("offset","0%"),a.setAttribute("stop-color","#FFFFFF"),a.setAttribute("stop-opacity","0.4"),c.appendChild(a),a=document.createElementNS(b.Render.svgNS,"stop"),a.setAttribute("offset","100%"),a.setAttribute("stop-color","#FFFFFF"),a.setAttribute("stop-opacity","0"),c.appendChild(a),b.NodeStore.root.appendChild(c),
c=document.createElementNS(b.Render.svgNS,"linearGradient"),c.setAttribute("x1","0%"),c.setAttribute("y1","0%"),c.setAttribute("x2","0%"),c.setAttribute("y2","100%"),c.id="gauge-chart-"+j+"-outer-overlay-gradient",b.NodeFactory.SVG.outerOverlayGradient="gauge-chart-"+j+"-outer-overlay-gradient",a=document.createElementNS(b.Render.svgNS,"stop"),a.setAttribute("offset","0%"),a.setAttribute("stop-color","#FFFFFF"),a.setAttribute("stop-opacity","0.4"),c.appendChild(a),a=document.createElementNS(b.Render.svgNS,
"stop"),a.setAttribute("offset","100%"),a.setAttribute("stop-color","#FFFFFF"),a.setAttribute("stop-opacity","0"),c.appendChild(a),b.NodeStore.root.appendChild(c)):"edge"===c.overlayType?(c=document.createElementNS(b.Render.svgNS,"linearGradient"),c.setAttribute("x1","0%"),c.setAttribute("y1","0%"),c.setAttribute("x2","0%"),c.setAttribute("y2","100%"),c.id=a,a=document.createElementNS(b.Render.svgNS,"stop"),a.setAttribute("offset","0%"),a.setAttribute("stop-color","#FFFFFF"),a.setAttribute("stop-opacity",
"0"),c.appendChild(a),a=document.createElementNS(b.Render.svgNS,"stop"),a.setAttribute("offset","100%"),a.setAttribute("stop-color","#FFFFFF"),a.setAttribute("stop-opacity","0"),c.appendChild(a),b.NodeStore.root.appendChild(c),b=Gauge[j],c=document.createElementNS(b.Render.svgNS,"linearGradient"),c.setAttribute("x1","0%"),c.setAttribute("y1","100%"),c.setAttribute("x2","0%"),c.setAttribute("y2","0%"),c.id="Gauge-inner-overlay-gradient-"+j,a=document.createElementNS(b.Render.svgNS,"stop"),a.setAttribute("offset",
"0%"),a.setAttribute("stop-color","#FFFFFF"),a.setAttribute("stop-opacity","0.5"),c.appendChild(a),a=document.createElementNS(b.Render.svgNS,"stop"),a.setAttribute("offset","100%"),a.setAttribute("stop-color","#eaeaea"),a.setAttribute("stop-opacity","0.1"),c.appendChild(a),b.NodeStore.root.appendChild(c),c=document.createElementNS(b.Render.svgNS,"linearGradient"),c.setAttribute("x1","0%"),c.setAttribute("y1","75%"),c.setAttribute("x2","0%"),c.setAttribute("y2","0%"),c.id="Gauge-outter-overlay-gradient-"+
j,a=document.createElementNS(b.Render.svgNS,"stop"),a.setAttribute("offset","0%"),a.setAttribute("stop-color","#eaeaea"),a.setAttribute("stop-opacity","0.1"),c.appendChild(a),a=document.createElementNS(b.Render.svgNS,"stop"),a.setAttribute("offset","50%"),a.setAttribute("stop-color","#FFFFFF"),a.setAttribute("stop-opacity","0.4"),c.appendChild(a),b.NodeStore.root.appendChild(c)):"overlay"===c.overlayType&&(c=document.createElementNS(b.Render.svgNS,"radialGradient"),c.id=a,c.setAttribute("gradientUnits",
"userSpaceOnUse"),c.setAttribute("cx",b.Base.mainCircleParams.cx),c.setAttribute("cy",b.Base.mainCircleParams.cy),c.setAttribute("r",b.Base.mainCircleParams.radius),a=document.createElementNS(b.Render.svgNS,"stop"),a.setAttribute("offset","0%"),a.setAttribute("stop-color","#eaeaea"),a.setAttribute("stop-opacity","0"),c.appendChild(a),a=document.createElementNS(b.Render.svgNS,"stop"),a.setAttribute("offset","50%"),a.setAttribute("stop-color","#eaeaea"),a.setAttribute("stop-opacity","0"),c.appendChild(a),
a=document.createElementNS(b.Render.svgNS,"stop"),a.setAttribute("offset","55%"),a.setAttribute("stop-color","#ffffff"),a.setAttribute("stop-opacity","0.75"),c.appendChild(a),a=document.createElementNS(b.Render.svgNS,"stop"),a.setAttribute("offset","100%"),a.setAttribute("stop-color","#eaeaea"),a.setAttribute("stop-opacity","0"),c.appendChild(a),b.NodeFactory.SVG.defs.appendChild(c))},InitBackgroundGradient:function(a,b){var c=Gauge[j],d=document.createElementNS(c.Render.svgNS,"linearGradient");d.id=
"Gauge-background-gradient-"+j;var g=Math.pow(2,-52),f=parseInt(c.params.chart.bgAngle,10)%360,e=Math.cos((180-f)*Math.PI/180),h=Math.sin((180-f)*Math.PI/180),k=Math.cos((360-f)*Math.PI/180),f=Math.sin((360-f)*Math.PI/180);if(0>=e||Math.abs(e)<=g)e=0;if(0>=h||Math.abs(h)<=g)h=0;if(0>=k||Math.abs(k)<=g)k=0;if(0>=f||Math.abs(f)<=g)f=0;g=parseInt(100*e,10)+"%";h=parseInt(100*h,10)+"%";k=parseInt(100*k,10)+"%";f=parseInt(100*f,10)+"%";d.setAttribute("x1",g);d.setAttribute("y1",h);d.setAttribute("x2",
k);d.setAttribute("y2",f);k=document.createElementNS(c.Render.svgNS,"stop");k.setAttribute("offset","0%");k.setAttribute("stop-color",a);d.appendChild(k);k=document.createElementNS(c.Render.svgNS,"stop");k.setAttribute("offset","100%");k.setAttribute("stop-color",b);d.appendChild(k);c.NodeFactory.SVG.defs.appendChild(d);c.NodeFactory.SVG.Gradients.backgroundGradient=d}},shadows:{initMainCircleShadow:function(a){var b=Gauge[j],c=document.createElementNS(b.Render.svgNS,"defs"),d=document.createElementNS(b.Render.svgNS,
"filter");d.setAttribute("id",a);d.setAttribute("x","-1");d.setAttribute("y","-1");d.setAttribute("width","250%");d.setAttribute("height","250%");a=document.createElementNS(b.Render.svgNS,"feOffset");a.setAttribute("result","offOut");a.setAttribute("in","SourceGraphic");a.setAttribute("dx","2");a.setAttribute("dy","2");d.appendChild(a);a=document.createElementNS(b.Render.svgNS,"feColorMatrix");a.setAttribute("result","matrixOut");a.setAttribute("in","offOut");a.setAttribute("type","matrix");a.setAttribute("values",
"0.1 0 0 0 0 0 0.1 0 0 0 0 0 0.1 0 0 0 0 0 0.7 0");d.appendChild(a);a=document.createElementNS(b.Render.svgNS,"feGaussianBlur");a.setAttribute("result","blurOut");a.setAttribute("in","matrixOut");a.setAttribute("stdDeviation","2");d.appendChild(a);a=document.createElementNS(b.Render.svgNS,"feBlend");a.setAttribute("in","SourceGraphic");a.setAttribute("in2","blurOut");a.setAttribute("mode","normal");d.appendChild(a);c.appendChild(d);b.NodeStore.root.appendChild(c)},initArrowShadow:function(a){var b=
Gauge[j],c=document.createElementNS(b.Render.svgNS,"defs"),d=document.createElementNS(b.Render.svgNS,"filter");d.setAttribute("id",a);d.setAttribute("x","0");d.setAttribute("y","0");d.setAttribute("width","250%");d.setAttribute("height","250%");a=document.createElementNS(b.Render.svgNS,"feOffset");a.setAttribute("result","offOut");a.setAttribute("in","SourceGraphic");a.setAttribute("dx","1");a.setAttribute("dy","1");d.appendChild(a);a=document.createElementNS(b.Render.svgNS,"feColorMatrix");a.setAttribute("result",
"matrixOut");a.setAttribute("in","offOut");a.setAttribute("type","matrix");a.setAttribute("values","0.1 0 0 0 0 0 0.1 0 0 0 0 0 0.1 0 0 0 0 0 0.7 0");d.appendChild(a);a=document.createElementNS(b.Render.svgNS,"feGaussianBlur");a.setAttribute("result","blurOut");a.setAttribute("in","matrixOut");a.setAttribute("stdDeviation","2");d.appendChild(a);a=document.createElementNS(b.Render.svgNS,"feBlend");a.setAttribute("in","SourceGraphic");a.setAttribute("in2","blurOut");a.setAttribute("mode","normal");
d.appendChild(a);c.appendChild(d);b.NodeStore.root.appendChild(c)}}},VML:{scaleCoefficient:10,getCoefValue:function(a){return parseInt(a*Gauge[j].NodeFactory.VML.scaleCoefficient,10)},createNode:null,createRoot:function(){var a=Gauge[j];document.createStyleSheet().addRule(".rvml","behavior:url(#default#VML) ");try{document.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),a.NodeFactory.VML.createNode=function(a){return document.createElement("<rvml:"+a+' class="rvml" >')}}catch(b){a.NodeFactory.VML.createNode=
function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml" >')}}var c=document.createElement("div");c.style.width="100%";c.style.height="100%";c.style.position="relative";a.NodeStore.documentFragmentRef=document.createDocumentFragment();a.NodeStore.documentFragmentRef.appendChild(c);a.NodeStore.root=c},drawLogo:{init:function(){var a=Gauge[j],b=a.NodeStore.root,c=a.params.chart.width-130,d=""+parseInt(1073741824*Math.random(),10);a.NodeFactory.VML.drawLogo.createGradient(b,
d,{cx:c+0,cy:50,radius:30});a.NodeFactory.VML.drawLogo.drawCirclePart({angleStart:70,angleEnd:340,color:"#434343",cx:c+0,cy:50,radius:20,container:b});a.NodeFactory.VML.drawLogo.drawCirclePart({angleStart:-20,angleEnd:70,color:"#F26734",cx:c+0+2,cy:51,radius:20,container:b});a.NodeFactory.VML.drawLogo.createText(b,c+0+9,63)},logoHoverHandler:function(a){var b=Gauge[j];b.addEvent(a,"mouseover",function(a){a.toElement.style.cursor="pointer"});b.addEvent(a,"click",function(){window.location.assign("http://www.hdcharts.com/")});
b.addEvent(a,"mouseout",function(a){a.toElement.style.cursor="default"})},drawPoly:function(a){var b=Gauge[j],c=b.NodeFactory.VML.createNode("shape");c.setAttribute("coordsize",b.NodeFactory.VML.getCoefValue(b.params.chart.width)+" "+b.NodeFactory.VML.getCoefValue(b.params.chart.height));c.setAttribute("coordorigin","0 0");c.setAttribute("fillcolor",a.color);c.style.position="absolute";c.style.left="0 px";c.style.top="0 px";c.style.width=b.params.chart.width+"px";c.style.height=b.params.chart.height+
"px";var d,g=a.points,f=g.length-1,e=b.NodeFactory.VML.scaleCoefficient;for(d="M"+(parseInt(g[f].x*e,10)+" "+parseInt(g[f].y*e,10));f--;)d=d+"L"+parseInt(g[f].x*e,10)+" "+parseInt(g[f].y*e,10);d+=" z";g=b.NodeFactory.VML.createNode("path");g.setAttribute("v",d);c.appendChild(g);d=b.NodeFactory.VML.createNode("stroke");d.setAttribute("opacity",a.opacity);d.setAttribute("color",a.color);c.appendChild(d);a.container.appendChild(c);b.NodeFactory.VML.drawLogo.logoHoverHandler(c)},drawCirclePart:function(a){var b=
Gauge[j],c=[],d=a.cx,g=a.cy,f=a.radius;c.push({x:d,y:g});for(var e=a.angleStart;e<=a.angleEnd;e++){var h=e*(Math.PI/180),k=0,l=0,k=d+f*Math.cos(h),l=g+f*Math.sin(h);c.push({x:k,y:l})}b.NodeFactory.VML.drawLogo.drawPoly({points:c,color:a.color,container:a.container})},createGradient:function(){},createText:function(a,b,c){var d=Gauge[j],g="",g="m 0,0 l 1,0 e",f=d.NodeFactory.VML.createNode("shape",!0);f.style.position="absolute";f.style.top=c-3+"px";f.style.left=b+15+"px";f.style.zIndex=0;f.style.width=
"1px";f.style.height="1px";f.setAttribute("filled","t");f.setAttribute("fillcolor","#434343");f.setAttribute("stroked","f");f.setAttribute("path",g);var e=d.NodeFactory.VML.createNode("textpath");e.style.fontFamily="Tahoma";e.style.fontSize="17px";e.style.fontWeight="bold";e.setAttribute("fill","#434343");e.setAttribute("on","t");e.setAttribute("string","HD");f.appendChild(e);e=d.NodeFactory.VML.createNode("path");e.setAttribute("textpathok","t");f.appendChild(e);a.appendChild(f);d.NodeFactory.VML.drawLogo.logoHoverHandler(f);
f=d.NodeFactory.VML.createNode("shape",!0);f.style.position="absolute";f.style.top=c-3+"px";f.style.left=b+63+"px";f.style.zIndex=0;f.style.width="1px";f.style.height="1px";f.setAttribute("filled","t");f.setAttribute("fillcolor","#434343");f.setAttribute("stroked","f");f.setAttribute("path",g);e=d.NodeFactory.VML.createNode("textpath");e.style.fontFamily="Tahoma";e.style.fontSize="17px";e.style.fontWeight="bold";e.setAttribute("fill","#F15A23");e.setAttribute("on","t");e.setAttribute("string","CHARTS");
f.appendChild(e);e.setAttribute("x",b+27);e.setAttribute("y",c);e=d.NodeFactory.VML.createNode("path");e.setAttribute("textpathok","t");f.appendChild(e);a.appendChild(f);d.NodeFactory.VML.drawLogo.logoHoverHandler(f)}},createBackground:function(){var a=Gauge[j],b=a.NodeFactory.VML.createNode("rect");b.style.top="0px";b.style.left="0px";b.style.width=a.params.chart.width+"px";b.style.height=a.params.chart.height+"px";b.style.border="0px";b.style.position="absolute";b.style.filter="alpha(opacity="+
a.params.chart.bgAlpha+")";var c=a.NodeFactory.VML.createNode("stroke");c.setAttribute("opacity","0");b.appendChild(c);if("undefined"===typeof a.params.chart.bgColor)b.setAttribute("fillcolor","#ffffff");else if(c=a.params.chart.bgColor.split(" ").join("").split(","),1==c.length)b.setAttribute("fillcolor","#"+c[0]);else{var d=a.NodeFactory.VML.createNode("fill");d.setAttribute("Type","Gradient");d.setAttribute("Angle",parseInt(a.params.chart.bgAngle,10)+90);d.setAttribute("Color","#"+c[0]);d.setAttribute("Color2",
"#"+c[1]);d.setAttribute("Focus","0%");b.appendChild(d)}c=a.NodeFactory.VML.createNode("stroke");c.setAttribute("color","none");b.appendChild(c);a.NodeStore.root.appendChild(b)},createMainCircle:function(){var a=Gauge[j],b=a.NodeFactory.VML.createNode("group");b.style.position="absolute";b.style.top="0px";b.style.left="0px";b.style.width=a.params.chart.width+"px";b.style.height=a.params.chart.height+"px";b.setAttribute("coordorigin","0,0");b.setAttribute("coordsize",10*a.params.chart.width+","+10*
a.params.chart.height);a.NodeStore.root.appendChild(b);if("undefined"===typeof a.params.chart.colorRange)a.NodeFactory[a.Render.render].addCirclepart(a.params.chart.lowerLimit,a.params.chart.upperLimit,b,a.defaultParams.defaultColor.code,a.defaultParams.defaultColor.codeWhite);else{var c=a.params.chart.colorRange.color;if("undefined"!==typeof c.length)for(var d=0,g=c.length;d<g;d++){d+1==c.length&&c[d].maxValue<a.params.chart.upperLimit&&(c[d].maxValue=a.params.chart.upperLimit);0==d&&c[d].minValue>
a.params.chart.lowerLimit&&(c[d].minValue=a.params.chart.lowerLimit);var f=a.NodeFactory[a.Render.render].addCirclepart(parseFloat(c[d].minValue,10),parseFloat(c[d].maxValue,10),b,c[d].code,c[d].codeWhite),e=a.NodeFactory.VML.createNode("shadow");e.setAttribute("on","true");e.setAttribute("type","single");e.setAttribute("obscured","false");e.setAttribute("color","rgb(150,150,150)");e.setAttribute("opacity","1.0");e.setAttribute("offset","2pt,2pt");e.setAttribute("color2","rgb(150,150,150)");e.setAttribute("opacity2",
"1.0");e.setAttribute("offset2","0pt,0pt");e.setAttribute("origin","0,0");e.setAttribute("matrix","null");f.elem.appendChild(e)}else f=a.NodeFactory[a.Render.render].addCirclepart(parseFloat(c.minValue,10),parseFloat(c.maxValue,10),b,c.code,c.codeWhite),e=a.NodeFactory.VML.createNode("shadow"),e.setAttribute("on","true"),e.setAttribute("type","single"),e.setAttribute("obscured","false"),e.setAttribute("color","rgb(150,150,150)"),e.setAttribute("opacity","1.0"),e.setAttribute("offset","2pt,2pt"),e.setAttribute("color2",
"rgb(150,150,150)"),e.setAttribute("opacity2","1.0"),e.setAttribute("offset2","0pt,0pt"),e.setAttribute("origin","0,0"),e.setAttribute("matrix","null"),f.elem.appendChild(e)}a.NodeFactory.VML.addTopElement()},addTopElement:function(){var a=Gauge[j],b=a.params.chart,c=a.NodeFactory.VML.createNode("group");c.style.position="absolute";c.style.top="0px";c.style.left="0px";c.style.width=a.params.chart.width+"px";c.style.height=a.params.chart.height+"px";c.setAttribute("coordorigin","0,0");c.setAttribute("coordsize",
10*a.params.chart.width+","+10*a.params.chart.height);a.NodeStore.root.appendChild(c);if("default"!==b.overlayType)if("edge"===b.overlayType)c=a.NodeFactory[a.Render.render].addCirclepart(a.params.chart.lowerLimit,a.params.chart.upperLimit,c,a.defaultParams.defaultColor.code,a.defaultParams.defaultColor.codeWhite,a.params.chart.innerRadius*(0.84+a.params.chart.overlayWidth),1),c.fill.parentNode.removeChild(c.fill),c.fill=document.createElement('<fill xmlns="urn:schemas-microsoft-com:office:office" class="rvml" >'),
c.fill.style.position="absolute",c.fill.setAttribute("type","gradient"),c.fill.setAttribute("method","none"),c.fill.setAttribute("color",""),c.fill.setAttribute("color1","#ffffff"),c.fill.setAttribute("color2","#ffffff"),c.fill.setAttribute("opacity","0.05"),c.fill.setAttribute("o:opacity2","0.6"),c.elem.appendChild(c.fill),a=a.NodeFactory.VML.createNode("stroke",!0),a.setAttribute("opacity","0"),c.elem.appendChild(a);else if("overlay"===b.overlayType){b=a.NodeFactory[a.Render.render].addCirclepart(a.params.chart.lowerLimit,
a.params.chart.upperLimit,c,a.defaultParams.defaultColor.code,a.defaultParams.defaultColor.codeWhite,a.params.chart.innerRadius,a.params.chart.innerRadius+0.2);b.fill.parentNode.removeChild(b.fill);b.fill=document.createElement('<fill xmlns="urn:schemas-microsoft-com:office:office" class="rvml" >');b.fill.style.position="absolute";b.fill.setAttribute("type","gradientTitle");b.fill.setAttribute("method","none");b.fill.setAttribute("focusSize","-0,-0.0");b.fill.setAttribute("focusposition",".5,1");
b.fill.setAttribute("opacity","0");b.fill.setAttribute("color1","#ffffff");b.fill.setAttribute("color2","#ffffff");b.fill.setAttribute("o:opacity2","0.8");b.elem.appendChild(b.fill);var d=a.NodeFactory.VML.createNode("stroke",!0);d.setAttribute("opacity","0");b.elem.appendChild(d);c=a.NodeFactory[a.Render.render].addCirclepart(a.params.chart.lowerLimit,a.params.chart.upperLimit,c,a.defaultParams.defaultColor.code,a.defaultParams.defaultColor.codeWhite,a.params.chart.innerRadius,1);c.fill.parentNode.removeChild(c.fill);
c.fill=document.createElement('<fill xmlns="urn:schemas-microsoft-com:office:office" class="rvml" >');c.fill.style.position="absolute";c.fill.setAttribute("type","gradientTitle");c.fill.setAttribute("method","none");c.fill.setAttribute("focus","75%");c.fill.setAttribute("focusSize","-0.8,-0.8");c.fill.setAttribute("focusposition",".5,1");c.fill.setAttribute("color","");c.fill.setAttribute("color1","#ffffff");c.fill.setAttribute("color2","#ffffff");c.fill.setAttribute("opacity","0");c.fill.setAttribute("o:opacity2",
"0.8");c.elem.appendChild(c.fill);a=a.NodeFactory.VML.createNode("stroke",!0);a.setAttribute("opacity","0");c.elem.appendChild(a)}},addCirclepart:function(a,b,c,d,g,f,e){g=Gauge[j];var h="m ";"undefined"===typeof f&&(f=g.params.chart.innerRadius);"undefined"===typeof e&&(e=1);a=g.getDegreeFromValue(a);b=g.getDegreeFromValue(b);for(var k=a;k<=b;k++)var l=k,l=g.degToRad(l+180),m=10*g.Base.mainCircleParams.cx,n=10*g.Base.mainCircleParams.cy,p=10*g.Base.mainCircleParams.radius*e,q=0,r=0,q=parseInt(10*
(m+p*Math.cos(l)),10),r=parseInt(10*(n+p*Math.sin(l)),10),h=k==a+1?h+(" l  "+q+","+r):k==a?h+(q+","+r):h+(", "+q+","+r);for(k=b;k>=a;k--)l=k,l=g.degToRad(l+180),m=10*g.Base.mainCircleParams.cx,n=10*g.Base.mainCircleParams.cy,p=10*g.Base.mainCircleParams.radius*f,q=parseInt(10*(m+p*Math.cos(l)),10),r=parseInt(10*(n+p*Math.sin(l)),10),h+=", "+q+","+r;h+=" x e";a=g.NodeFactory.VML.createNode("shape");a.setAttribute("path",h);a.setAttribute("strokecolor",d);a.style.position="absolute";a.style.top="0px";
a.style.left="0px";a.style.width=g.params.chart.width+"px";a.style.height=g.params.chart.height+"px";c.appendChild(a);c=g.NodeFactory.VML.createNode("fill");c.style.position="absolute";c.setAttribute("color",d);a.appendChild(c);return{fill:c,elem:a}},InitScale:function(){var a=Gauge[j],b=parseInt(0.01*a.Base.baseParams.baseW,10),c=(a.params.chart.upperLimit-a.params.chart.lowerLimit)/a.params.chart.majorTMNumber,d=(a.params.chart.upperLimit-a.params.chart.lowerLimit)/a.params.chart.minorTMNumber;
if(a.checkStylesExists(a.params)){for(var g=a.params.chart.styles.application.apply,f=a.params.chart.styles.definition.style,e=0,h=g.length;e<h;e++)"TICKVALUES"==g[e].toObject.toUpperCase()&&(tickValuesStyle={},tickValuesStyle.name=g[e].styles,tickValuesStyle.found=!1,tickValuesStyle.obj={});if(tickValuesStyle){e=0;for(h=f.length;e<h;e++)f[e].name==tickValuesStyle.name&&"FONT"==f[e].type.toUpperCase()&&(tickValuesStyle.found=!0,tickValuesStyle.obj=f[e])}}else tickValuesStyle={name:"",found:!1,obj:{}};
for(e=a.params.chart.lowerLimit;e<=a.params.chart.upperLimit;e+=d)a.NodeFactory[a.Render.render].addScaleLine(e,b);for(e=a.params.chart.lowerLimit;e<=a.params.chart.upperLimit;e+=c)a.NodeFactory[a.Render.render].addScaleLine(e,2*b),a.NodeFactory[a.Render.render].addLabel(e,tickValuesStyle)},addScaleLine:function(a,b){var c=Gauge[j],d=c.defaultParams.scaleLineWidth,g=c.getDegreeFromValue(a),f=c.NodeFactory.VML.createNode("line"),g=c.getDegreeFromValue(a),e=c.degToRad(g+180),h=c.Base.mainCircleParams.cx,
k=c.Base.mainCircleParams.cy,l=c.Base.mainCircleParams.radius,m=c.Base.mainCircleParams.radius-b,g=h+l*Math.cos(e),l=k+l*Math.sin(e),h=h+m*Math.cos(e),e=k+m*Math.sin(e);f.setAttribute("from",g+","+l);f.setAttribute("to",h+","+e);f.setAttribute("strokecolor",c.defaultParams.scaleLineColor);f.setAttribute("strokeweight",d+"px");f.style.position="absolute";f.style.top="0px";f.style.left="0px";c.NodeStore.root.appendChild(f)},addLabel:function(a,b){var c=Gauge[j],d=!1;"undefined"!==typeof b.obj&&(d=b.obj.found);
!b&&d&&(b.obj=c.NodeFactory.getDefaultFontStyleDefinition());var g=0.06*c.Base.baseParams.baseW,d=c.NodeFactory.VML.createNode("textbox"),f=c.params.chart.numberPrefix+c.Base.checkFloating(a)+c.params.chart.numberSuffix,f=c.Base.encodeString(f);d.appendChild(document.createTextNode(f));var e=c.getDegreeFromValue(a),e=c.degToRad(e+180),h=c.Base.mainCircleParams.cy,k=c.Base.mainCircleParams.radius+g,g=c.Base.mainCircleParams.cx+k*Math.cos(e),e=h+k*Math.sin(e);d.style.position="absolute";d.style.left=
g+"px";d.style.top=e+"px";b.obj=c.NodeFactory.defineUndefinedDefaultFontStyleDefinition(b.obj);c.NodeFactory.VML.addStylesToElement(d,b.obj);c.NodeStore.root.appendChild(d);c=c.Base.getBiggestBBox([f],{fontFamily:b.obj.font,fontSize:b.obj.size});d.style.left=g-parseInt(c.w,10)/2+"px";d.style.top=e-parseInt(c.h,10)/2+"px"},addStylesToElement:function(a,b){"undefined"!==typeof b.font&&(a.style.fontFamily=b.font);"undefined"!==typeof b.size&&(a.style.fontSize=b.size);"undefined"!==typeof b.color&&(a.style.color=
"#"+b.color);"undefined"!==typeof b.bold&&"1"==b.bold&&(a.style.fontWeight="bold");"undefined"!==typeof b.italic&&"1"==b.italic&&(a.style.fontStyle="italic");"undefined"!==typeof b.underline&&"1"==b.underline&&(a.style.textDecoration="underline")},InitArrow:function(a){var b=Gauge[j],c=b.NodeFactory.VML.createNode("group");c.style.position="absolute";c.style.top="0px";c.style.left="0px";c.style.width=b.params.chart.width+"px";c.style.height=b.params.chart.height+"px";c.setAttribute("coordorigin",
"0,0");c.setAttribute("coordsize",b.params.chart.width+","+b.params.chart.height);var d=b.Base.mainCircleParams.cx,g=b.Base.mainCircleParams.cy,f=b.Base.mainCircleParams.radius,e=b.NodeFactory.VML.createNode("shape");e.style.position="absolute";e.style.top=g-4+"px";e.style.left="0px";e.style.width=b.params.chart.width+"px";e.style.height="8px";e.setAttribute("path","m "+parseInt(d+10,10)+",0 l "+parseInt(d-0.8*f,10)+","+parseInt(g/2,10)+", "+parseInt(d+10,10)+","+parseInt(g,10)+" x e");c.appendChild(e);
"undefined"===typeof a.bgColor?(d=b.NodeFactory.VML.createNode("fill"),d.setAttribute("Color","#cacaca")):(d=b.NodeFactory.VML.createNode("fill"),d.setAttribute("Color","#"+a.bgColor));e.appendChild(d);b.NodeStore.root.appendChild(c);e.setValue=function(c){e.style.rotation=b.getDegreeFromValue(c);a.value=c;b.NodeStore.valueLabel&&b.NodeStore.valueLabel.updateValue(c)};return e},initArrowCircle:function(){var a=Gauge[j],b=a.NodeFactory.VML.createNode("oval ");b.style.position="absolute";b.style.width=
"10px";b.style.height="10px";b.style.top=a.Base.mainCircleParams.cy-5+"px";b.style.left=a.Base.mainCircleParams.cx-5+"px";b.setAttribute("fillcolor","#3a3a3a");b.setAttribute("strokecolor","#000000");a.NodeStore.root.appendChild(b);b=a.NodeFactory.VML.createNode("oval ");b.style.position="absolute";b.style.width="2px";b.style.height="2px";b.style.top=a.Base.mainCircleParams.cy-1+"px";b.style.left=a.Base.mainCircleParams.cx-1+"px";b.setAttribute("fillcolor","#3a3a3a");b.setAttribute("strokecolor",
"#000000");a.NodeStore.root.appendChild(b)},createValueLabel:function(a,b){var c=Gauge[j],d=null;if(c.checkStylesExists(c.params)){for(var g=c.params.chart.styles.application.apply,f=c.params.chart.styles.definition.style,e=null,h=0,k=g.length;h<k;h++)if("Value"==g[h].toObject){e=g[h].styles;break}if(e){h=0;for(k=f.length;h<k;h++)if(f[h].name==e){d=f[h];break}}}d||(d=c.NodeFactory.getDefaultFontStyleDefinition());d=c.NodeFactory.defineUndefinedDefaultFontStyleDefinition(d);g=c.NodeFactory.VML.createNode("textbox");
f=c.params.chart.numberPrefix+c.Base.checkFloating(a)+c.params.chart.numberSuffix;f=c.Base.encodeString(f);g.appendChild(document.createTextNode(f));c.NodeStore.root.appendChild(g);f=c.Base.getBiggestBBox([f],{fontFamily:d.font,fontSize:d.size});e=c.Base.mainCircleParams.cx;if(1==c.Base.labelsToShow)var l=c.Base.mainCircleParams.cy-0.13559322033898305*c.Base.mainCircleParams.radius;else b<c.Base.labelsToShow&&(l=c.Base.mainCircleParams.cy-10-b*f.h);c.NodeFactory.VML.addStylesToElement(g,d);g.style.position=
"absolute";g.style.left=e+"px";g.style.top=l+"px";g.style.left=e-f.w/2+"px";g.style.top=l-f.h/2+"px";c.NodeStore.valueLabel=g;c.NodeStore.valueLabel.updateValue=function(a){this.removeChild(this.childNodes[0]);a=c.Base.encodeString(c.params.chart.numberPrefix+c.Base.checkFloating(a)+c.params.chart.numberSuffix);this.appendChild(document.createTextNode(a))}}},Canvas:{getSize:function(a,b){var c=Gauge[j],d=document.createElement("div");d.style.position="absolute";d.style.top="0px";d.style.left="0px";
d.style.fontFamily=b.font;d.style.fontSize=b.fontSize+"px";d.appendChild(document.createTextNode(a));c.params.container.appendChild(d);var g=c.getSize(d);c.params.container.removeChild(d);return g},createValueLabel:function(a,b){var c=Gauge[j],d=null,g=c.NodeStore.root;if(c.checkStylesExists(c.params)){for(var f=c.params.chart.styles.application.apply,e=c.params.chart.styles.definition.style,h=null,k=0,l=f.length;k<l;k++)if("Value"==f[k].toObject){h=f[k].styles;break}if(h){k=0;for(l=e.length;k<l;k++)if(e[k].name==
h){d=e[k];break}}}d||(d=c.NodeFactory.getDefaultFontStyleDefinition());d=c.NodeFactory.defineUndefinedDefaultFontStyleDefinition(d);c.NodeFactory.Canvas.addStylesToElement(d);f=c.Base.mainCircleParams.cx;e=c.params.chart.numberPrefix+c.Base.checkFloating(a)+c.params.chart.numberSuffix;d=c.NodeFactory.Canvas.getSize(e,{font:d.font,fontSize:d.size});if(1==c.Base.labelsToShow)var m=c.Base.mainCircleParams.cy-0.13559322033898305*c.Base.mainCircleParams.radius;else b<c.Base.labelsToShow&&(m=c.Base.mainCircleParams.cy-
10-b*d.height);g.fillText&&g.fillText(e,f-d.width/2,m-d.height/2,200)},createRoot:function(){var a=Gauge[j];a.params.chart.defaultAnimation="0";var b=document.createElement("canvas");a.params.container.appendChild(b);b.setAttribute("width",a.params.chart.width);b.setAttribute("height",a.params.chart.height);a.NodeStore.root=b.getContext("2d")},createBackground:function(){var a=Gauge[j],b=a.NodeStore.root,c=Math.pow(2,-52),d=parseInt(a.params.chart.bgAngle,10)%360,g=Math.cos((180-d)*Math.PI/180),f=
Math.sin((180-d)*Math.PI/180),e=Math.cos((360-d)*Math.PI/180),d=Math.sin((360-d)*Math.PI/180);if(0>=g||Math.abs(g)<=c)g=0;if(0>=f||Math.abs(f)<=c)f=0;if(0>=e||Math.abs(e)<=c)e=0;if(0>=d||Math.abs(d)<=c)d=0;c=b.createLinearGradient(g*a.params.chart.width,f*a.params.chart.height,e*a.params.chart.width,d*a.params.chart.height);b.beginPath();b.rect(0,0,a.params.chart.width,a.params.chart.height);"undefined"===typeof a.params.chart.bgColor?(c.addColorStop(0,"#FFFFFF"),c.addColorStop(1,"#F3F3F3"),b.fillStyle=
c):(g=a.params.chart.bgColor.split(" ").join("").split(","),1==g.length?b.fillStyle="#"+g[0]:(c.addColorStop(0,"#"+g[1]),c.addColorStop(1,"#"+g[0]),b.fillStyle=c));b.globalAlpha=a.params.chart.bgAlpha/100;b.fill();b.lineWidth=0;b.globalAlpha=1},createMainCircle:function(){var a=Gauge[j];if("undefined"===typeof a.params.chart.colorRange)a.NodeFactory[a.Render.render].addCirclepart({lowerLimit:a.params.chart.lowerLimit,upperLimit:a.params.chart.upperLimit,color:a.defaultParams.defaultColor.code,borderColor:a.defaultParams.defaultColor.code,
shadow:!0});else{var b=a.params.chart.colorRange.color;if("undefined"!==typeof b.length)for(var c=0,d=b.length;c<d;c++)c+1==b.length&&b[c].maxValue<a.params.chart.upperLimit&&(b[c].maxValue=a.params.chart.upperLimit),0==c&&b[c].minValue>a.params.chart.lowerLimit&&(b[c].minValue=a.params.chart.lowerLimit),a.NodeFactory[a.Render.render].addCirclepart({lowerLimit:parseFloat(b[c].minValue,10),upperLimit:parseFloat(b[c].maxValue,10),color:b[c].code,borderColor:b[c].code,shadow:!0});else a.NodeFactory[a.Render.render].addCirclepart({lowerLimit:parseFloat(b.minValue,
10),upperLimit:parseFloat(b.maxValue,10),color:b.code,borderColor:b.code,shadow:!0})}b=a.NodeFactory.Canvas.InitMainCircleGradient();a.NodeFactory[a.Render.render].addCirclepart({lowerLimit:a.params.chart.lowerLimit,upperLimit:a.params.chart.upperLimit,gradient:b})},InitMainCircleGradient:function(){var a=Gauge[j],b=a.params.chart;if("default"===b.overlayType){var c=a.Base.mainCircleParams.cx,d=a.Base.mainCircleParams.cy,g=a.Base.mainCircleParams.radius,f=a.NodeStore.root,a=f.createRadialGradient(c,
d,0,c,d,g);a.addColorStop(0,"rgba( 230, 230, 230, 0)");a.addColorStop(0.48,"rgba( 230, 230, 230, 0)");a.addColorStop(0.55,"rgba( 255, 255, 255, 0.1)");a.addColorStop(1,"rgba( 230, 230, 230, 0.25)");return a}if("edge"===b.overlayType){var f=a.NodeStore.root,e=f.createLinearGradient(0,0,0,b.height),b=f.createLinearGradient(0,0,0,b.height);e.addColorStop(0,"rgba(255,255,255,0.5)");e.addColorStop(1,"rgba(255,255,255,0.1)");b.addColorStop(0,"rgba(255,255,255,0.0)");b.addColorStop(1,"rgba(255,255,255,0.5)");
var h=a.getDegreeFromValue(a.params.chart.lowerLimit),k=a.getDegreeFromValue(a.params.chart.upperLimit);f.lineWidth=0;f.shadowColor="rgba(255,255,255,0)";shadowOffsetY=shadowOffsetX=f.shadowBlur=0;f.fillStyle=e;f.beginPath();for(e=h;e<=k;e++){var a=Gauge[j],c=e,l=a.degToRad(c+180),c=a.Base.mainCircleParams.cx,d=a.Base.mainCircleParams.cy,g=a.Base.mainCircleParams.radius,m=0,n=0,m=c+g*Math.cos(l),n=d+g*Math.sin(l);e==h?f.moveTo(m.toFixed(2),n.toFixed(2)):f.lineTo(m.toFixed(2),n.toFixed(2))}for(e=k;e>=
h;e--)c=e,l=a.degToRad(c+180),c=a.Base.mainCircleParams.cx,d=a.Base.mainCircleParams.cy,g=0.9*a.Base.mainCircleParams.radius,m=c+g*Math.cos(l),n=d+g*Math.sin(l),f.lineTo(m.toFixed(2),n.toFixed(2));f.closePath();f.fill();h=a.getDegreeFromValue(a.params.chart.lowerLimit);k=a.getDegreeFromValue(a.params.chart.upperLimit);f.fillStyle=b;f.beginPath();for(e=h;e<=k;e++)a=Gauge[j],c=e,l=a.degToRad(c+180),c=a.Base.mainCircleParams.cx,d=a.Base.mainCircleParams.cy,g=a.Base.mainCircleParams.radius,m=c+g*Math.cos(l),
n=d+g*Math.sin(l),e==h?f.moveTo(m.toFixed(2),n.toFixed(2)):f.lineTo(m.toFixed(2),n.toFixed(2));for(e=k;e>=h;e--)c=e,l=a.degToRad(c+180),c=a.Base.mainCircleParams.cx,d=a.Base.mainCircleParams.cy,g=a.Base.mainCircleParams.radius*a.params.chart.innerRadius,m=c+g*Math.cos(l),n=d+g*Math.sin(l),f.lineTo(m.toFixed(2),n.toFixed(2));f.closePath();f.fill();c=a.Base.mainCircleParams.cx;d=a.Base.mainCircleParams.cy;g=a.Base.mainCircleParams.radius;f=a.NodeStore.root;a=f.createRadialGradient(c,d,0,c,d,g);a.addColorStop(0,
"rgba( 255, 255, 255, 0)");a.addColorStop(1,"rgba( 255, 255, 255, 0)");return a}if("overlay"===b.overlayType)return c=a.Base.mainCircleParams.cx,d=a.Base.mainCircleParams.cy,g=a.Base.mainCircleParams.radius,f=a.NodeStore.root,a=f.createRadialGradient(c,d,0,c,d,g),a.addColorStop(0,"rgba( 230, 230, 230, 0)"),a.addColorStop(0.48,"rgba( 230, 230, 230, 0)"),a.addColorStop(0.55,"rgba( 255, 255, 255, 0.75)"),a.addColorStop(1,"rgba( 230, 230, 230, 0)"),a},drawOverlay:function(a){var b=Pie[j],c=[],d=b.NodeFactory.Canvas.innerOverlayGradient,
g=b.NodeStore.root;"outer"===a.type&&(d=b.NodeFactory.Canvas.outerOverlayGradient);if(0!=a.innerRadius){for(var f=0;180>=f;f++){var e=b.degToRad(f),h=0,k=0,h=a.x+a.innerRadius*Math.cos(e),k=a.y+a.innerRadius*Math.sin(e);c.push({x:h,y:k})}for(f=180;0<=f;f--)e=b.degToRad(f),h=a.x+a.outerRadius*Math.cos(e),k=a.y+a.outerRadius*Math.sin(e),c.push({x:h,y:k});a=c.length-1;g.save();g.beginPath();for(g.moveTo(c[a].x,c[a].y);a--;)g.lineTo(c[a].x,c[a].y)}else g.save(),g.beginPath(),ctx.arc(a.x,a.y,a.outerRadius,
0,2*Math.PI,!0);g.fillStyle=d;g.closePath();g.fill();g.restore()},addCirclepart:function(a){var b=Gauge[j],c=a.lowerLimit,d=a.upperLimit,g=a.color,f=Gauge[j].NodeStore.root;"undefined"===typeof a.borderColor?f.lineWidth=0:(f.strokeStyle=g,f.lineWidth=1);f.fillStyle="undefined"===typeof a.gradient?g:a.gradient;"undefined"!==typeof a.shadow?a.shadow?(f.shadowColor="#666",f.shadowBlur=2,f.shadowOffsetX=2,f.shadowOffsetY=Gauge[j].Render.androidDetected?-2:2):(f.shadowColor="rgba(255,255,255,0)",shadowOffsetY=
shadowOffsetX=f.shadowBlur=0):(f.shadowColor="rgba(255,255,255,0)",shadowOffsetY=shadowOffsetX=f.shadowBlur=0);c=b.getDegreeFromValue(c);d=b.getDegreeFromValue(d);f.beginPath();for(a=c;a<=d;a++){var b=Gauge[j],g=a,g=b.degToRad(g+180),e=b.Base.mainCircleParams.cx,h=b.Base.mainCircleParams.cy,k=b.Base.mainCircleParams.radius,l=0,m=0,l=e+k*Math.cos(g),m=h+k*Math.sin(g);a==c?f.moveTo(l.toFixed(2),m.toFixed(2)):f.lineTo(l.toFixed(2),m.toFixed(2))}for(a=d;a>=c;a--)g=a,g=b.degToRad(g+180),e=b.Base.mainCircleParams.cx,
h=b.Base.mainCircleParams.cy,k=b.Base.mainCircleParams.radius*b.params.chart.innerRadius,l=e+k*Math.cos(g),m=h+k*Math.sin(g),f.lineTo(l.toFixed(2),m.toFixed(2));f.closePath();f.fill()},InitScale:function(){var a=Gauge[j],b=parseInt(0.01*a.Base.baseParams.baseW,10),c=(a.params.chart.upperLimit-a.params.chart.lowerLimit)/a.params.chart.majorTMNumber,d=(a.params.chart.upperLimit-a.params.chart.lowerLimit)/a.params.chart.minorTMNumber;if(a.checkStylesExists(a.params)){for(var g=a.params.chart.styles.application.apply,
f=a.params.chart.styles.definition.style,e=0,h=g.length;e<h;e++)"TICKVALUES"==g[e].toObject.toUpperCase()&&(tickValuesStyle={},tickValuesStyle.name=g[e].styles,tickValuesStyle.found=!1,tickValuesStyle.obj={});if(tickValuesStyle){e=0;for(h=f.length;e<h;e++)f[e].name==tickValuesStyle.name&&"FONT"==f[e].type.toUpperCase()&&(tickValuesStyle.found=!0,tickValuesStyle.obj=f[e])}}else tickValuesStyle={name:"",found:!1,obj:{}};for(e=a.params.chart.lowerLimit;e<=a.params.chart.upperLimit;e+=d)a.NodeFactory[a.Render.render].addScaleLine(e,
b);for(e=a.params.chart.lowerLimit;e<=a.params.chart.upperLimit;e+=c)a.NodeFactory[a.Render.render].addScaleLine(e,2*b),a.NodeFactory[a.Render.render].addLabel(e,tickValuesStyle)},addScaleLine:function(a,b){var c=Gauge[j],d=c.defaultParams.scaleLineWidth,g=c.getDegreeFromValue(a),f=c.NodeStore.root,g=c.getDegreeFromValue(a),e=c.degToRad(g+180),h=c.Base.mainCircleParams.cx,k=c.Base.mainCircleParams.cy,l=c.Base.mainCircleParams.radius,m=c.Base.mainCircleParams.radius-b,g=h+l*Math.cos(e),l=k+l*Math.sin(e),
h=h+m*Math.cos(e),e=k+m*Math.sin(e);f.lineWidth=d;f.strokeStyle=c.defaultParams.scaleLineColor;f.beginPath();f.moveTo(g,l);f.lineTo(h,e);f.stroke()},addStylesToElement:function(a){var b=Gauge[j].NodeStore.root,c="",c="undefined"!==typeof a.italic?"1"==a.italic?c+"italic ":c+"normal ":c+"normal ",c="undefined"!==typeof a.bold?"1"==a.bold?c+"bold ":c+"normal ":c+"normal ",c="undefined"===typeof a.size?c+"11px ":c+a.size+"px ",c="undefined"===typeof a.font?c+"Tahoma ":c+a.font;b.font=c;b.fillStyle="undefined"!==
typeof a.color?"#"+a.color:"#000000"},addLabel:function(a,b){var c=Gauge[j],d=!1,g=c.NodeStore.root;"undefined"!==typeof b.obj&&(d=b.obj.found);!b&&d&&(b.obj=c.NodeFactory.getDefaultFontStyleDefinition());b.obj=c.NodeFactory.defineUndefinedDefaultFontStyleDefinition(b.obj);c.NodeFactory.Canvas.addStylesToElement(b.obj);var d=c.params.chart.numberPrefix+c.Base.checkFloating(a)+c.params.chart.numberSuffix,f=0.06*c.Base.baseParams.baseW,e=c.getDegreeFromValue(a),e=c.degToRad(e+180),h=c.Base.mainCircleParams.cy,
k=c.Base.mainCircleParams.radius+f,f=c.Base.mainCircleParams.cx+k*Math.cos(e),e=h+k*Math.sin(e),c=c.NodeFactory.Canvas.getSize(d,{font:b.obj.font,fontSize:b.obj.size});g.fillText&&g.fillText(d,f-c.width/2,e-c.height/2/2,200)},InitArrow:function(a){var b=Gauge[j],c=b.Base.mainCircleParams.cx,d=b.Base.mainCircleParams.cy,g=b.Base.mainCircleParams.radius,f=b.NodeStore.root,e=b.degToRad(b.getDegreeFromValue(a.value)),h="undefined"===typeof a.borderAlpha?1:a.borderAlpha/100,k="undefined"===typeof a.bgColor?
"#dadada":"#"+a.bgColor;f.save();f.shadowColor="#666666";f.shadowBlur=2;f.shadowOffsetX=2;f.shadowOffsetY=2;f.strokeStyle="#000000";f.fillStyle=k;f.lineWidth=1;f.translate(c,d);f.rotate(e);f.beginPath();f.moveTo(10,4);f.lineTo(0.8*-g,0);f.lineTo(10,-4);f.closePath();f.fill();f.globalAlpha=h;f.stroke();f.globalAlpha=1;f.restore();return{setValue:function(c){b.NodeStore.root.clearRect(0,0,b.params.chart.width,b.params.chart.height);a.value=c;b.Initialize(t)}}},initArrowCircle:function(){var a=Gauge[j],
b=a.NodeStore.root,c=a.Base.mainCircleParams.cx,a=a.Base.mainCircleParams.cy;b.beginPath();b.strokeStyle="#000000";b.fillStyle="#3A3A3A";b.lineWidth=2;b.arc(c,a,5,0,2*Math.PI,!0);b.closePath();b.fill();b.stroke();b.beginPath();b.strokeStyle="#000000";b.fillStyle="#3A3A3A";b.lineWidth=2;b.arc(c,a,1,0,2*Math.PI,!0);b.closePath();b.fill();b.stroke()}}},Animation:{requestAnimFrame:null,Initialize:function(){Gauge[j].Animation.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||
window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)}},animateArrow:function(a,b,c,d){function g(){var f=(new Date).getTime(),m=Gauge[j];e+d>f?(m.setValue(parseFloat((f-e)*h+b,10),a,!1),k(g,a)):(m.setValue(c,a,!1),"undefined"!==typeof m.bufferedArrowShadowId&&(a.childNodes[0].setAttribute("filter",m.bufferedArrowShadowId),delete m.bufferedArrowShadowId))}var f=Gauge[j];"undefined"===typeof d&&(d=500);var e=(new Date).getTime(),
h=(c-b)/d,k=f.Animation.requestAnimFrame;"SVG"==f.Render.render&&(f.bufferedArrowShadowId=a.childNodes[0].getAttribute("filter"),a.childNodes[0].setAttribute("filter",""));k(g,a)}},setValue:function(a,b,c){if("undefined"!==typeof b)if(a<=Gauge[j].params.chart.upperLimit&&a>=Gauge[j].params.chart.lowerLimit)if("undefined"===typeof c&&(c=!0),"0"===Gauge[j].params.chart.defaultAnimation&&(c=!1),c)Gauge[j].Animation.animateArrow(b,Gauge[j].params.chart.lowerLimit,a);else if(b)b.setValue(a);else return!1;
else return!1;return!0},degToRad:function(a){return a*(Math.PI/180)},getDegreeFromValue:function(a){return 180*(a-Gauge[j].params.chart.lowerLimit)/(Gauge[j].params.chart.upperLimit-Gauge[j].params.chart.lowerLimit)},redraw:function(a){"undefined"===typeof a&&(a=this.params);this.deleteChilds(this.params.container);for(var b in a)this.params[b]=a[b];a=new GaugeChart(this.params,this.chartId);delete this;return a}};Gauge[j].Initialize(t);return Gauge[j]}throw Error("GaugeChart Error: Incorect data passed to GaugeChart ( container, passedParameters, chartId )!");
}
function GaugeChartXML(s,t){function j(a){var b=null;if(window.DOMParser)try{b=(new DOMParser).parseFromString(a,"text/xml")}catch(c){b=null}else if(window.ActiveXObject)try{if(b=new ActiveXObject("Microsoft.XMLDOM"),b.async=!1,!b.loadXML(a))throw Error(b.parseError.reason+b.parseError.srcText);}catch(d){b=null}else throw Error("cannot parse xml string!");return b}function u(a){var b={toObj:function(a){var d={};if(1==a.nodeType){if(a.attributes.length)for(var g=0;g<a.attributes.length;g++)d[a.attributes[g].nodeName]=(a.attributes[g].nodeValue||
"").toString();if(a.firstChild){for(var f=g=0,e=!1,h=a.firstChild;h;h=h.nextSibling)1==h.nodeType?e=!0:3==h.nodeType&&h.nodeValue.match(/[^ \f\n\r\t\v]/)?g++:4==h.nodeType&&f++;if(e)if(2>g&&2>f){b.removeWhite(a);for(h=a.firstChild;h;h=h.nextSibling)3==h.nodeType?d["#text"]=b.escape(h.nodeValue):4==h.nodeType?d["#cdata"]=b.escape(h.nodeValue):d[h.nodeName]?d[h.nodeName]instanceof Array?d[h.nodeName][d[h.nodeName].length]=b.toObj(h):d[h.nodeName]=[d[h.nodeName],b.toObj(h)]:d[h.nodeName]=b.toObj(h)}else a.attributes.length?
d["#text"]=b.escape(b.innerXml(a)):d=b.escape(b.innerXml(a));else if(g)a.attributes.length?d["#text"]=b.escape(b.innerXml(a)):d=b.escape(b.innerXml(a));else if(f)if(1<f)d=b.escape(b.innerXml(a));else for(h=a.firstChild;h;h=h.nextSibling)d["#cdata"]=b.escape(h.nodeValue)}!a.attributes.length&&!a.firstChild&&(d=null)}else 9==a.nodeType?d=b.toObj(a.documentElement):alert("unhandled node type: "+a.nodeType);return d},toJson:function(a,d,g){var f=d?'"'+d+'"':"";if(a instanceof Array){for(var e=0,h=a.length;e<
h;e++)a[e]=b.toJson(a[e],"",g+"\t");f+=(d?":[":"[")+(1<a.length?"\n"+g+"\t"+a.join(",\n"+g+"\t")+"\n"+g:a.join(""))+"]"}else if(null==a)f+=(d&&":")+"null";else if("object"==typeof a){e=[];for(h in a)e[e.length]=b.toJson(a[h],h,g+"\t");f+=(d?":{":"{")+(1<e.length?"\n"+g+"\t"+e.join(",\n"+g+"\t")+"\n"+g:e.join(""))+"}"}else f="string"==typeof a?f+((d&&":")+'"'+a.toString()+'"'):f+((d&&":")+a.toString());return f},innerXml:function(a){var b="";if("innerHTML"in a)b=a.innerHTML;else{var g=function(a){var b=
"";if(1==a.nodeType){for(var b=b+("<"+a.nodeName),c=0;c<a.attributes.length;c++)b+=" "+a.attributes[c].nodeName+'="'+(a.attributes[c].nodeValue||"").toString()+'"';if(a.firstChild){b+=">";for(c=a.firstChild;c;c=c.nextSibling)b+=g(c);b+="</"+a.nodeName+">"}else b+="/>"}else 3==a.nodeType?b+=a.nodeValue:4==a.nodeType&&(b+="<![CDATA["+a.nodeValue+"]]\x3e");return b};for(a=a.firstChild;a;a=a.nextSibling)b+=g(a)}return b},escape:function(a){return a.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,
"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(a){a.normalize();for(var d=a.firstChild;d;)if(3==d.nodeType)if(d.nodeValue.match(/[^ \f\n\r\t\v]/))d=d.nextSibling;else{var g=d.nextSibling;a.removeChild(d);d=g}else 1==d.nodeType&&b.removeWhite(d),d=d.nextSibling;return a}};9==a.nodeType&&(a=a.documentElement);return"{\n"+b.toJson(b.toObj(b.removeWhite(a)),a.nodeName,"\t").replace(/\t|\n/g,"")+"\n}"}return{parseXml:j,XMLtoJSON:u,xmlStr:t,jsonFromXML:null,chart:null,container:s,symbols:[{symbol:/!#amp!/g,
replacement:"&"},{symbol:/%26lt;/g,replacement:"<"},{symbol:/%26gt;/g,replacement:">"}],encodeString:function(a){for(var b=this.symbols,c=b.length;c--;)a=a.replace(b[c].symbol,b[c].replacement);return a},getParamsFromXML:function(a){a=a.replace(/&/g,"!#amp!");a=j(a);a=u(a);a=this.encodeString(a);a=eval("("+a+")");var b={},b=this.jsonFromXML=a;b.container=this.container;return b},initialize:function(a,b,c){var d=this.getParamsFromXML(this.xmlStr);"undefined"!==typeof a&&(d.chart.width=a);"undefined"!==
typeof b&&(d.chart.height=b);this.chart="undefined"===typeof c?new GaugeChart(s,d):new GaugeChart(s,d,c)},redrawXML:function(a){a=this.getParamsFromXML(a);this.chart.redraw(a)}}};